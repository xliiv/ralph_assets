{% extends 'assets/base.html' %}
{% load i18n %}

{% load bob %}


{% block content %}


    #TODO:: rename it to parts-managing?
    <form action="{% url assign_to_asset params.asset_id %}" method="post">{% csrf_token %}
        {{ params.detach_formset.management_form }}
        {{ params.attach_formset.management_form }}

        #TODO:: make tamplate tag?
        {% if params.detach_formset.forms %}
        <table class="table table-striped table-bordered part-detach">
            <tr>
            {% for field in params.detach_formset.forms.0.visible_fields %}
                <th>{{field.label}}</th>
            {% endfor %}
            </tr>

            {% for form in params.detach_formset.forms %}
                <tr>
                {% for field in form.hidden_fields %}
                    {{ field }}
                {% endfor %}
                {% for field in form.visible_fields %}
                    <td> {{ field }} </td>
                {% endfor %}
                </tr>
            {% endfor %}
        </table>
        {% endif %}

        {% if params.attach_formset.forms %}
        <table class="table table-striped table-bordered part-attach">
            <tr>
            {% for field in params.attach_formset.forms.0.visible_fields %}
                <th>{{field.label}}</th>
            {% endfor %}
            </tr>

            {% for form in params.attach_formset.forms %}
                <tr>
                {% for field in form.hidden_fields %}
                    {{ field }}
                {% endfor %}
                {% for field in form.visible_fields %}
                    <td> {{ field }} </td>
                {% endfor %}
                </tr>
            {% endfor %}
        </table>
        {% endif %}




        <div class="row-fluid">
            <div class="span12">
            <div class="form-actions">
            <button name="asset" type="submit" class="btn btn-primary">
                {% trans "Save" %}
            </button>
            </div>
            </div>
        </div>
    </form>

{% comment %}
{% endcomment %}

{% endblock %}
